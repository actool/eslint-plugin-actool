# `relevant-comments`

**Validate relevanting of line's comment doclet**

> ALERT: While, on version `0.1.X` rule is working too slow
> - **Use only on at your own risk**

During the developement you may want to have specific block of code to have being reviewed by actool

```js
"actool/relevant-comments": [<severity>, {
    <options>
}
```


## Rule Details

This rule aims to control [relevancy and actuality](https://github.com/actool/eslint-plugin-actool/blob/master/docs/how-it-work.md#relevancy-validating) of your code

```js
/**                                    // comment block lastCommit: A            
 * Get schedules from server
 * TODO: some subtask
 */
const getSharedDictionaries = () => {  // code block lastCommit: B
```

### Fail
```js
// You can specify allowed commits diff by options (see below)

if (diffCommits(A, B) > 4)

// or by dates if specified
// if (diffDates(A.date, B.date) > 4)
```

### Pass
```js
// You can specify allowed commits diff by options (see below)

if (diffCommits(A, B) <= 4)

// or by dates if specified
// if (diffDates(A.date, B.date) <= 4)
```

## Options

### `scope`
Controls the rule behaviour for specific scope
- [**line**](https://github.com/actool/eslint-plugin-actool/blob/master/docs/how-it-work.md#line-comment) - for each line

- [**block**](https://github.com/actool/eslint-plugin-actool/blob/master/docs/how-it-work.md#block-comment) - for each code block

- [**WIP: module**](https://github.com/actool/eslint-plugin-actool/blob/master/docs/how-it-work.md#module-comment) - for each module

```js
// disable relevancy linting for line / block / module scopes
"actool/relevant-comments": [2, { line: null }] // or { block: null } or { module: null }
// customize options for specific scope
"actool/relevant-comments": [2, { 
    line: { ... }, // line scope config
    block: { ... } // block scope config
    module: { ... } // module scope config
] 
```
<details>
    <summary>defaultValue</summary>

    line - [disabled]
    block: - [enabled]
    module: [disabled]

    More details - see below
</details>

### `by`
Specify base validating entity
- [**commit**](https://github.com/actool/eslint-plugin-actool/blob/master/docs/how-it-work.md#commit) - diff by commits
- [**days**](https://github.com/actool/eslint-plugin-actool/blob/master/docs/how-it-work.md#days-experimental) - diff by days
  > experimental
  
```js
"actool/relevant-comments": [2, { 
    block: { by: "days" }
}]
```
<details>
    <summary>defaultValue</summary>

    line: "commit"
    block: "commit"
    module: "commit"
</details>

### `diff`
Allowable diff between commits/days (for validating)

> Counting only **relevant for current block** commits (days)

```js
"actool/relevant-comments": [2, { 
    block: { diff: 8 }
}]
```
<details>
    <summary>defaultValue</summary>

    > FIXME: Temp, later will be "4"
    line: 1
    block: 1
    module: 1
</details>

## When Not To Use It
If no need to keep comments in actual state with corresponding code

## FAQ
### I have `actool/relevant-comments` alert but how can I fix it?
Refer to our [conception explaining](https://github.com/actool/eslint-plugin-actool/blob/master/docs/overview.md/#conception)

> **TL;DR:** Just update your comment any rational method

## Version
This rule introduced in 0.1.0.

## Further Reading
- [Rule source](https://github.com/actool/eslint-plugin-actool/blob/master/lib/rules/relevant-comments.js)
- [Rule tests](https://github.com/actool/eslint-plugin-actool/blob/master/tests/lib/rules/relevant-comments.js)
<!--TODO add rule schema generated by json-schema-to-** -->
- https://github.com/actool/eslint-plugin-actool/issues/25
- https://github.com/actool/eslint-plugin-actool/blob/master/docs/overview.md#comments-relevancy

<!-- TODO: add links about problem -->
